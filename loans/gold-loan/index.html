<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Gold Loan Calculator — Loan Against Gold</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../../style.css" />
</head>
<body>
  <main class="site">
    <header class="header">
      <div class="brand">
        <svg class="mark" viewBox="0 0 24 24" aria-hidden="true">
          <defs>
            <linearGradient id="grad" x1="0" x2="1">
              <stop offset="0" stop-color="#0ea5a4" />
              <stop offset="1" stop-color="#3b82f6" />
            </linearGradient>
          </defs>
          <rect x="2" y="4" width="20" height="16" rx="4" fill="url(#grad)"></rect>
          <path d="M7 14l3-5 4 6 3-4" stroke="#fff" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
        </svg>
        <div>
          <h1>Gold Loan Calculator</h1>
          <p class="tag">Calculate loan against gold jewelry</p>
        </div>
      </div>
      <a href="../../index.html" class="back-btn">Back to Home</a>
    </header>

    <section class="content">
      <form id="calcForm" class="panel" onsubmit="return false;">
        <h2>Gold & Loan Details</h2>

        <div class="grid">
          <label class="field">
            <span class="label">Gold Weight (grams)</span>
            <input id="goldWeight" type="number" step="1" value="100" required />
          </label>

          <label class="field">
            <span class="label">Gold Purity</span>
            <select id="purity">
              <option value="24">24 Karat (99.9%)</option>
              <option value="22" selected>22 Karat (91.6%)</option>
              <option value="18">18 Karat (75%)</option>
            </select>
          </label>
        </div>

        <label class="field">
          <span class="label">Gold Rate per gram (₹)</span>
          <input id="goldRate" type="number" step="10" value="6000" required />
        </label>

        <label class="field">
          <span class="label">Loan to Value Ratio (%)</span>
          <input id="ltvRatio" type="number" step="1" min="50" max="90" value="75" required />
        </label>

        <label class="field">
          <span class="label">Interest Rate (% per annum)</span>
          <input id="interestRate" type="number" step="0.1" value="12" required />
        </label>

        <label class="field">
          <span class="label">Loan Tenure (months)</span>
          <input id="tenure" type="number" step="1" min="1" value="12" required />
        </label>

        <div class="actions">
          <button id="calculateBtn" class="btn primary" type="button">Calculate</button>
          <button id="resetBtn" class="btn ghost" type="button">Reset</button>
        </div>
      </form>

      <aside class="result" id="results">
        <h2 class="panel-title">Loan Summary</h2>

        <div class="cards">
          <div class="card">
            <div class="card-title">Gold Value</div>
            <div class="card-value" id="goldValue">—</div>
            <div class="card-note">Market value of your gold</div>
          </div>

          <div class="card">
            <div class="card-title">Maximum Loan Amount</div>
            <div class="card-value" id="loanAmount">—</div>
            <div class="card-note">Based on LTV ratio</div>
          </div>

          <div class="card">
            <div class="card-title">Total Interest</div>
            <div class="card-value" id="totalInterest">—</div>
            <div class="card-note">Interest for tenure period</div>
          </div>

          <div class="card">
            <div class="card-title">Total Repayment</div>
            <div class="card-value" id="totalRepay">—</div>
            <div class="card-note">Principal + Interest</div>
          </div>
        </div>

        <div class="breakdown">
          <h3 style="margin:0 0 12px 0;font-size:0.95rem;color:var(--muted)">Payment Breakdown</h3>
          <div class="breakdown-row">
            <span class="breakdown-label">Monthly Interest</span>
            <span class="breakdown-value" id="monthlyInt">—</span>
          </div>
          <div class="breakdown-row">
            <span class="breakdown-label">Processing Fee (1%)</span>
            <span class="breakdown-value" id="processingFee">—</span>
          </div>
          <div class="breakdown-row">
            <span class="breakdown-label">Net Loan Amount</span>
            <span class="breakdown-value" id="netLoan">—</span>
          </div>
        </div>
      </aside>
    </section>

    <footer class="footer">
      <small>Built by destiny-tracer — runs entirely in your browser, no data leaves your device.</small>
    </footer>
  </main>

  <script>
(function(){
  const $ = id => document.getElementById(id);

  function fmtNumber(n){
    if (typeof n !== 'number' || !isFinite(n)) return '—';
    return '₹' + n.toLocaleString('en-IN', {minimumFractionDigits:0, maximumFractionDigits:0});
  }

  function calculate(){
    const weight = parseFloat($('goldWeight').value) || 0;
    const purity = parseFloat($('purity').value) || 22;
    const rate = parseFloat($('goldRate').value) || 0;
    const ltv = parseFloat($('ltvRatio').value) || 75;
    const interest = parseFloat($('interestRate').value) || 0;
    const tenure = parseFloat($('tenure').value) || 0;

    if (weight <= 0 || rate <= 0 || ltv <= 0 || tenure <= 0){
      alert('Please enter valid values for all fields.');
      return;
    }

    // Calculate purity factor
    const purityFactor = purity === 24 ? 0.999 : purity === 22 ? 0.916 : 0.75;
    
    // Gold value
    const goldValue = weight * rate * purityFactor;
    
    // Loan amount based on LTV
    const loanAmount = goldValue * (ltv / 100);
    
    // Simple interest calculation
    const totalInterest = (loanAmount * interest * tenure) / (12 * 100);
    
    // Total repayment
    const totalRepay = loanAmount + totalInterest;
    
    // Monthly interest
    const monthlyInt = totalInterest / tenure;
    
    // Processing fee (typically 1%)
    const procFee = loanAmount * 0.01;
    
    // Net loan (after processing fee)
    const netLoan = loanAmount - procFee;

    $('goldValue').textContent = fmtNumber(goldValue);
    $('loanAmount').textContent = fmtNumber(loanAmount);
    $('totalInterest').textContent = fmtNumber(totalInterest);
    $('totalRepay').textContent = fmtNumber(totalRepay);
    $('monthlyInt').textContent = fmtNumber(monthlyInt);
    $('processingFee').textContent = fmtNumber(procFee);
    $('netLoan').textContent = fmtNumber(netLoan);
  }

  function reset(){
    $('calcForm').reset();
    $('goldValue').textContent = '—';
    $('loanAmount').textContent = '—';
    $('totalInterest').textContent = '—';
    $('totalRepay').textContent = '—';
    $('monthlyInt').textContent = '—';
    $('processingFee').textContent = '—';
    $('netLoan').textContent = '—';
  }

  $('calculateBtn').addEventListener('click', calculate);
  $('resetBtn').addEventListener('click', reset);
})();
  </script>
</body>
</html>
